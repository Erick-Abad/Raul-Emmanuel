<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Generador · Baby Shower Raul Emmanuel</title>

  <!-- Bootstrap 5 + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  
  <style>
    :root{
      --cream: #fbf6ee;
      --bone:  #fffdf8;
      --glass: rgba(255,255,255,.78);
    }
    body{
      background: linear-gradient(180deg, var(--cream), var(--bone));
      font-family: 'Montserrat', sans-serif;
      min-height: 100vh;
    }
    .card-generator{
      background: rgba(255,255,255,.78);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,.65);
      border-radius: 32px;
      box-shadow: 0 18px 55px rgba(0,0,0,.08);
    }
    .preview-iframe{
      width:100%;
      height: 620px;
      border-radius: 28px;
      border: 1px solid rgba(255,255,255,.6);
      background: white;
    }
    .btn-wa{
      background: linear-gradient(180deg, #25D366, #128C7E);
      color: white;
      border: none;
    }
    .btn-wa:hover{
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 18px 40px rgba(37,211,102,.3);
    }
  </style>
</head>
<body class="p-3">
  <div class="container py-4">
    <div class="row g-4">
      <!-- Panel de control -->
      <div class="col-lg-5">
        <div class="card-generator p-4">
          <div class="d-flex align-items-center gap-3 mb-4">
            <i class="bi bi-gift fs-1" style="color: #a87e2c;"></i>
            <h2 class="fw-black" style="background: linear-gradient(180deg,#fff6d5,#e6c76a 35%,#c9a13f 60%,#a87e2c); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">Generador de invitación</h2>
          </div>

          <form id="genForm">
            <div class="mb-4">
              <label class="fw-bold mb-2"><i class="bi bi-people-fill me-2"></i>Número de invitados</label>
              <select class="form-select rounded-pill" id="qtySelect">
                <option value="1">1 persona</option>
                <option value="2">2 personas</option>
                <option value="3">3 personas</option>
              </select>
            </div>

            <div class="mb-4">
              <label class="fw-bold mb-2"><i class="bi bi-whatsapp me-2"></i>Teléfono del invitado</label>
              <input type="tel" class="form-control rounded-pill" id="phoneInput" placeholder="09xxxxxxxx o 593xxxxxxxxx">
            </div>

            <div class="alert alert-danger d-none" id="errBox"></div>

            <div class="d-grid gap-2 mb-3">
              <button type="button" class="btn btn-light rounded-pill py-3" id="copyBtn">
                <i class="bi bi-files me-2"></i>Copiar enlace
              </button>
              <button type="button" class="btn btn-light rounded-pill py-3" id="openBtn">
                <i class="bi bi-box-arrow-up-right me-2"></i>Abrir invitación
              </button>
              <button type="submit" class="btn btn-wa rounded-pill py-3">
                <i class="bi bi-whatsapp me-2"></i>Enviar por WhatsApp
              </button>
            </div>

            <div class="text-center small opacity-75 mt-3">
              <i class="bi bi-shield-check me-1"></i>Máximo 3 invitados por enlace
            </div>
          </form>
        </div>
      </div>

      <!-- Vista previa -->
      <div class="col-lg-7">
        <div class="card-generator p-3">
          <div class="d-flex align-items-center gap-2 mb-3">
            <span class="badge rounded-pill" style="background: rgba(127,191,232,.2); color:#2b4f6e; padding:8px 16px;" id="previewBadge">Reservado para 1 persona</span>
            <span class="fw-light"><i class="bi bi-eye me-1"></i>Vista previa</span>
          </div>
          <iframe class="preview-iframe" id="previewFrame" title="Vista previa"></iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast para copiar -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div class="toast align-items-center border-0" id="copyToast" role="alert" style="background: rgba(255,255,255,.9); backdrop-filter: blur(8px);">
      <div class="d-flex">
        <div class="toast-body fw-bold" id="copyToastText">Copiado ✅</div>
        <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast"></button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="config.js"></script>
  <script src="generator.js"></script>
</body>
</html>